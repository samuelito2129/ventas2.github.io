<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>papelito</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        .container {
            display: flex;
            font-size: 12px; 
            font-family: Arial, sans-serif;
            margin-top: 1px;
        }
        p {
            margin-right: 1px;
            margin-top: 24px;
            line-height: 0;
            padding: 0;
        }
        .borde-especial {
            border-bottom: 1px dashed lightgray;
        }
        .primera-table {
            border-bottom: 2px dashed black;
            margin-bottom: 5px;
        }
        .primera-table th:nth-child(1),
        .primera-table td:nth-child(1) {
            width: 25%;
        }
        .primera-table th:nth-child(5),
        .primera-table td:nth-child(5) {
            width: 20%;
            text-align: right;
        }
        .tabla_total-table td:nth-child(2) {
            width: 70px;
            text-align: center;
            background-color: #CECECE;
            border: 2px solid white;
            padding: 4px;
        }
        .centrar-texto {
            text-align: center;
        }
        h2 {
            font-size: 13px;
            font-family: 'Lexend', sans-serif;
            margin-bottom: -15px;
            line-height: 1;
            padding: 0px;
        }
        body {
            width: 6.6cm;
            height: 14cm;
            margin: 0 auto;
        }
        table, th, td {
            border-collapse: collapse;
            width: 100%;
            border: 0px solid black;
        }
        td {
            font-size: 12.5px;
            font-family: Arial, sans-serif;
            padding: 2px;
        }
        th {
            font-size: 12px;
            padding: 6px;
            font-family: 'Oswald', sans-serif;
            background-color: #CECECE;
            border-top: 2px dashed black;
            border-bottom: 2px dashed black;
        }
        .red {
            color: red;
            font-weight: bold;
        }
        @page {
            margin: 1mm;
        }
        @media print {
            table {
                background-color: inherit;
            }
        }
    </style>
    
    <script>
        function getQueryParams() {
            const urlParams = new URLSearchParams(window.location.search);

            // Iterar automáticamente por todos los elementos que coincidan con un id
            document.querySelectorAll("[id]").forEach(element => {
                const value = urlParams.get(element.id);
                if (value !== null) {
                    // Verificar si el valor comienza con un signo de exclamación
                    if (value.startsWith("!")) {
                        const cleanValue = value.slice(1); // Eliminar el signo de exclamación
                        element.innerHTML = `<span class="red">!</span>${cleanValue}`;
                    } else {
                        element.innerHTML = value;
                    }
                }
            });

            // Imprimir automáticamente después de cargar
            window.print();
        }

        window.onload = getQueryParams; // Ejecutar al cargar la página
    </script>
</head>
<body onload="getQueryParams()" onfocus="window.close()">
    <div class="centrar-texto">
        <p style="font-size: 14px;font-family: 'Roboto', sans-serif; margin-bottom: -10px;"><b>HELADERÍA PRIMAVERA</b></p>
        <p style="font-size: 10px;font-family: Arial, sans-serif;line-height: 0;">TELÉFONO: 73196102 - 72627865</p> 
        <h2>TICKET DE VENTA</h2>
    </div>
    
    <div class="container">    
        <p>Para:</p>
        <p id="Nombre"></p>&nbsp;&nbsp;
        <p>Fecha:</p>
        <p id="Fecha"></p>&nbsp;&nbsp;
        <p>H:</p>
        <p id="Hora"></p>
    </div>   
        
    <table class="primera-table">
        <thead>
            <tr>
                <th>PRODUCTO</th>
                <th>SOB</th>
                <th>VEND</th>
                <th>P.UNI</th>
                <th>MONTO</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Bombón</td>
                <td id="sob_bombon"></td>
                <td id="cantbombon"></td>
                <td rowspan="3">1</td>
                <td rowspan="3" id="imp_crema"></td>
            </tr>
            <tr>
                <td>Granizado</td>
                <td id="sob_granizado"></td>
                <td id="cant_granizado"></td>
            </tr>
            <tr class="borde-especial">
                <td>Arbolito</td>
                <td id="sob_arbolito"></td>
                <td id="cant_arbolito"></td>
            </tr>
        </tbody>
    </table>

    <table class="tabla_total-table">
        <tr>
            <td>SUBTOTAL:</td>
            <td id="subtotal"></td>
        </tr>
        <tr>
            <td>DESCUENTO:</td>
            <td id="descuento"></td>
        </tr>
        <tr>
            <td>RECARGO:</td>
            <td id="recargo"></td>
        </tr>
        <tr>
            <td><strong>PAGAR:</strong></td>
            <td><strong id="pagar"></strong></td>
        </tr>
    </table>
</body>
</html>
